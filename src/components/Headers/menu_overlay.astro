---
import Flags from "./flags.astro";
import Image from "astro/components/Image.astro";
import roatanLogo from "../../assets/img/logo/Roatan-LogoSimple.png";
import { translations } from "../../locales.js";
import "../../assets/css/main.css";
import "../../assets/css/menu.css";

const lang = Astro.props?.lang ?? "es";
const t = translations[lang] ?? translations["es"];

const menuItems = Object.entries(t.menu).map(([key, label]) => ({
  path: key,
  label,
}));
---

<div
  id="menu_overlay"
  class="fixed grid grid-cols-10 grid-rows-7 top-0 left-0 w-screen h-screen z-20 hidden"
>
  <div class="div1 flex flex-col justify-center items-center">
    <h2 class="text-white font-bebas text-xl mb-4">
      {t.header.socialMedia}
    </h2>
    <div
      class="flex flex-row items-center social_media_container gap-4 xl:gap-4 mx-3 xl:mx-5 pt-1"
    >
      <a href="https://www.facebook.com/PortRoatan" target="_blank"
        ><div class="icon-mask icon-mask-face"></div></a
      >
      <a href="https://www.instagram.com/portroatan" target="_blank"
        ><div class="icon-mask icon-mask-ig"></div></a
      >
      <a
        href="https://www.tripadvisor.com.mx/Attraction_Review-g292019-d25290415-Reviews-Roatan_Cruise_Port-Roatan_Bay_Islands.html"
        target="_blank"><div class="icon-mask icon-mask-trip"></div></a
      >
    </div>
  </div>
  <div class="div2 bg-[url(/img/blogs/star-of-seas/1.webp)] bg-cover bg-center">
  </div>
  <div
    class="div3 flex flex-col justify-center items-center text-center h-full"
  >
    <p class="text-white font-bebas font-bold text-xl mb-1">
      {t.header.question}
    </p>
    <p class="text-white font-bebas font-bold text-xl mb-6">
      {t.header.contact}
    </p>
    <p class="text-white font-bebas font-bold text-lg px-12">
      info@portroatan.com
    </p>
    <p
      class="text-white font-bebas text-base px-12"
      set:html={t.header.address}
    />
  </div>
  <div class="div4 bg-[url(/img/maquetado/menu_up.webp)] bg-cover bg-center">
  </div>
  <div class="div5 justify-center items-center">
    <div
      id="menu_movil_overlay"
      class="flex flex-col text-center justify-center p-6 items-center z-30 bg-[var(--primary-color)] h-full"
    >
      <nav class="text-white flex flex-col items-center justify-center gap-6">
        <a
          id="logo_menu"
          class="w-28 h-auto"
          href={lang === "es" ? "/es/home" : "/en/home"}
        >
          <Image
            class="w-full h-auto"
            src={roatanLogo}
            alt="logo"
            loading="eager"
          />
        </a>
        {
          menuItems.map((item) => (
            <a
              class="text-center font-bebas font-bold md:text-4xl lg:text-5xl xl:text-6xl z-30"
              href={`/${lang}/${item.path}/`}
            >
              {item.label}
            </a>
          ))
        }

        <Flags lang={lang} mobile={true} />
      </nav>
    </div>
  </div>
</div>
<style>
  #menu_overlay {
    grid-column-gap: 0px;
    grid-row-gap: 0px;
  }

  @keyframes scaleInY {
    from {
      transform: scaleY(0);
    }
    to {
      transform: scaleY(1);
    }
  }

  @keyframes scaleOutY {
    from {
      transform: scaleY(1);
    }
    to {
      transform: scaleY(0);
    }
  }

  @keyframes scaleInX {
    from {
      transform: scaleX(0);
    }
    to {
      transform: scaleX(1);
    }
  }

  @keyframes scaleOutX {
    from {
      transform: scaleX(1);
    }
    to {
      transform: scaleX(0);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes fadeOut {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  .div1,
  .div3,
  .div5 {
    transform: scaleY(0);
  }
  .div2,
  .div4 {
    transform: scaleX(0);
  }

  .div1 > *,
  .div2 > *,
  .div3 > *,
  .div4 > *,
  .div5 > * {
    opacity: 0;
  }

  .div1.showY > *,
  .div1.showX > * {
    animation: fadeIn 0.5s ease-out 0.3s forwards;
  }

  .div2.showY > *,
  .div2.showX > * {
    animation: fadeIn 0.5s ease-out 0.3s forwards;
  }

  .div3.showY > *,
  .div3.showX > * {
    animation: fadeIn 0.5s ease-out 0.3s forwards;
  }

  .div4.showY > *,
  .div4.showX > * {
    animation: fadeIn 0.5s ease-out 0.3s forwards;
  }

  .div5.showY > *,
  .div5.showX > * {
    animation: fadeIn 0.5s ease-out 0.3s forwards;
  }

  .div1.hideY > *,
  .div1.hideX > *,
  .div2.hideY > *,
  .div2.hideX > *,
  .div3.hideY > *,
  .div3.hideX > *,
  .div4.hideY > *,
  .div4.hideX > *,
  .div5.hideY > *,
  .div5.hideX > * {
    animation: fadeOut 0.3s ease-in forwards;
  }

  .div1 {
    transform-origin: bottom;
  }
  .div2 {
    transform-origin: right;
  }
  .div3 {
    transform-origin: top;
  }
  .div4 {
    transform-origin: left;
  }
  .div5 {
    transform-origin: bottom;
  }

  .showY {
    animation: scaleInY 0.3s ease-out forwards;
  }

  .hideY {
    animation: scaleOutY 0.3s ease-in forwards;
  }

  .showX {
    animation: scaleInX 0.3s ease-out forwards;
  }

  .hideX {
    animation: scaleOutX 0.3s ease-in forwards;
  }

  .div1 {
    grid-area: 1 / 1 / 5 / 3;
    background-color: var(--primary-color);
  }

  .div2 {
    grid-area: 5 / 1 / 8 / 3;
  }

  .div3 {
    grid-area: 5 / 3 / 8 / 6;
    background-color: var(--secondary-color);
  }

  .div4 {
    grid-area: 1 / 3 / 5 / 6;
  }

  .div5 {
    grid-area: 1 / 6 / 8 / 11;
    background-color: var(--primary-color);
  }

  .div1.show {
    animation-delay: 0.1s;
  }
  .div2.show {
    animation-delay: 0.1s;
  }
  .div3.show {
    animation-delay: 0.1s;
  }
  .div4.show {
    animation-delay: 0.1s;
  }
  .div5.show {
    animation-delay: 0.1s;
  }
</style>
